{% with value=value|default:0 size=size|default:32 max=100 %}
<div class="relative flex items-center justify-center" style="width: {{ size }}px; height: {{ size }}px;">
    <svg class="transform -rotate-90 w-full h-full" viewBox="0 0 100 100">
        <circle cx="50" cy="50" r="40" fill="transparent" stroke="currentColor" stroke-width="12" class="text-gray-200 dark:text-gray-700" />
        <circle cx="50" cy="50" r="40" fill="transparent" stroke="currentColor" stroke-width="12" stroke-dasharray="251.2" stroke-dashoffset="calc(251.2 - (251.2 * {{ value }} / {{ max }}))" stroke-linecap="round" class="transition-all duration-1000 ease-out {% if value > 90 %}text-red-500{% elif value > 75 %}text-amber-400{% else %}text-blue-500{% endif %}" />
    </svg>
    {% if show_text %}<span class="absolute text-xs font-medium text-gray-900 dark:text-white">{{ value }}%</span>{% endif %}
</div>
{% endwith %}
